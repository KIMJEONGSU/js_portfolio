# 🍽️리뷰 기반 맛집 추천 웹 서비스
평가나 리뷰를 기반으로 Doc2Vec 모델을 활용하여 쉽고 빠르게 맛집을 찾아주는 웹 서비스 구현.
- 프로젝트 기간 : 2023.04.07 ~ 2023.04.12
- skills : ```Python```,```Flask```, ```HTML```,```JavaScript```, ```Docker```, ```PostgreSQL```, ```Metabase```

    
<br>

### 1. 프로젝트 개요
인터넷으로 다양한 정보를 쉽게 접근 가능하지만, 정보 과잉으로 어떤 결정을 하는데 많은 어려움을 느끼는 경우가 많습니다. 이러한 문제를 해결하기 위해 평가나 리뷰를 기반으로 고객에게 쉽고 빠르게 맛집을 찾아주기 위함 입니다.

<br>

### 2. 프로젝트 수행절차  
#### 2.1. 데이터 소개
<table>
  <tr>
    <td>
      <img src="https://github.com/KIMJEONGSU/js_portfolio/assets/23291338/a649836f-225a-48aa-a87b-f4c40859e256" width="100%" height="100%">
    </td>
    <td>   
      <p><공공데이터></p>
      <p>2022년 09월 기준 업데이트 된 서울 지역의 상가 정보 데이터로, 상호명, 업종 분류, 행정동명 등 음식점에 대한 데이터</p>
       <p>출처 : https://www.data.go.kr/data/15083033/fileData.do#layer_data_infomation</p>
    </td>
  </tr>
    <tr>
    <td>
      <img src="https://github.com/KIMJEONGSU/js_portfolio/assets/23291338/d9991b29-616e-482c-965a-3b44e5082133" width="100%" height="100%"> 
    </td>
    <td>      
       <p><크롤링 데이터></p>
      <p>selenium으로 카카오맵에서 식당 별점과 리뷰 수집.</p>
      <p>URL : https://map.kakao.com/</p>
    </td>
  </tr>
</table>

<br>

#### 2.2. 파이프라인 소개
![스크린샷 2023-07-13 224411](https://github.com/KIMJEONGSU/js_portfolio/assets/23291338/4f83b7af-587b-4a03-8c55-fddcd7f228e3)

* Docker로 PostgreSQL과 Metabase 환경 구축
* selenium과 CSV파일로 수집한 데이터는 가공 후 PostgreSQL에 적재.
* 로컬 Python에서 PostgreSQL로부터 데이터 가지고 와서 전처리 및 모델 학습 진행.
* 모델 피클링 후 Flask로 전달.
* 웹에서 발생하는 데이터 또한 데이터에 적재 및 대시보드로 표현 가능.

<br>

#### 2.3. 데이터 전처리
* 숫자와 영어는 정규식으로 제거.
* 형태소 분석시 중 Okt를 사용했고, 한글 불용어는 파이썬 라이브러리가 없어서 직접 불용어 사전을 만들어 제거.
![스크린샷 2023-07-13 224440](https://github.com/KIMJEONGSU/js_portfolio/assets/23291338/4ea722ce-da16-4e17-af43-26f5bd7a426a)

<br>

#### 2.4. Doc2Vec 모델 소개 
Doc2Vec 모델은 Word2Vec에서 확장된 개념입니다. Doc2Vec은 문장, 문단 기반 모델로 Word2Vec에 비해 문서 전체에 대한 고려가 잘 이루어집니다. 해당 프로젝트에서 문장을 분석해야하기 때문에 Doc2Vec모델을 선택한 이유이기도 합니다.
동일한 문서에 등장한 단어들이 서로 유사성을 갖도록 문서 벡터 값을 조정하며 학습하는 Doc2Vec 모델은 문장 기반 모델인 TF-IDF를 적용해서 문서 관련 모델에 빈도를 활용하는 점이 Word2Vec과 유사한 특징을 보입니다. 하지만 Word2Vec은 고정 크기의 벡터를 생성하지 않는 반면, Doc2Vec은 사용자가 지정하는 고정 크기의 벡터를 생성함으로써 자원 사용량 낭비 및 훈련 시간 증가 등의 비효율적인 낭비를 줄일 수 있다

<br>

### 3. 결과
* 결과
검색창에 예시로 카페를 검색한다면 해당 검색어에 대한 유사도가 높은 순서대로 결과를 출력해주고, 검색어로 인해 출력된 결과물은 다시 데이터베이스에 저장이 되고, 대시보드에서도 해당 데이터를 확인할 수 있습니다.
![스크린샷 2023-07-13 224458](https://github.com/KIMJEONGSU/js_portfolio/assets/23291338/819ad4d7-9076-4a50-a58d-2dc3f468584f)

* 대시보드
![스크린샷 2023-07-13 224512](https://github.com/KIMJEONGSU/js_portfolio/assets/23291338/66c9bc1e-5c74-4bce-a23f-ca5bee8de8cc)

<br>

### 4. 한계점 및 개선사항
* Doc2vec 모델에 대한 이해가 부족한점과 수집된 리뷰 데이터의 질이 좋지 않아 모델 성능이 많이 좋지 않았습니다.
* 카카오맵에서 웹 크롤링을 진행했지만, 식당 페업이나 카카오맵에 등록되지 않은 식당들이 생각보다 많았습니다.
* 크롤링 시간이 예상보다 오래 걸려서 서울 동작구만을 대상으로 분석을 진행했고,크롤링 코드에 문제가 있어서 별점이 수집되지 않아서 코드를 수정할 필요있습니다.
* Result에서 submit버튼 클릭시 스크롤이 위로 갔다가 다시 아래로 내려옴. 해결 필요해보임.
* build_vocab() 메서드는 단어와 태그들을 분석하여 모델에서 사용할 단어 사전(vocabulary)을 생성하는데, 입력한 검색어가 이 단어사전에 없다면 오류 발생. 해결 필요해보임.
* 결과를 도출할때 유사도가 아닌 상호명과 별점, 위치등을 함께 보여주는 것이 사용자들에게 더 편리할 것으로 보이며 개선필요.
* 이외에도 다양한 이슈가 있어서 추후에 개선해볼 예정.

